import{e as P,f as I}from"./chunk-MHAYUD63.js";import{h as D}from"./chunk-IRSRVVSW.js";import{$a as y,Aa as d,Cb as L,Da as x,Db as u,Eb as k,Fb as O,Gb as E,Hb as v,Jb as N,Lb as T,Mb as F,Na as o,Oa as r,Pa as s,Qa as c,Tb as q,Ua as h,Va as _,Xa as f,_a as p,ab as S,e as w,fb as C,pa as n,ua as g,wb as M,ya as b}from"./chunk-L2NJ6PD6.js";var R=()=>["/registration"];function Z(t,a){t&1&&(r(0,"small"),p(1,"Email is required"),s())}function j(t,a){t&1&&(r(0,"small"),p(1,"Invalid email format"),s())}function A(t,a){if(t&1&&(r(0,"div"),d(1,Z,2,0,"small",10)(2,j,2,0,"small",10),s()),t&2){let i,e,l=_();f("color","red"),n(),o("ngIf",(i=l.form.get("email"))==null||i.errors==null?null:i.errors.required),n(),o("ngIf",(e=l.form.get("email"))==null||e.errors==null?null:e.errors.email)}}function V(t,a){t&1&&c(0,"img",11)}function z(t,a){t&1&&c(0,"img",12)}function H(t,a){t&1&&(r(0,"small"),p(1,"Password is required"),s())}function U(t,a){t&1&&(r(0,"small"),p(1,"Minimum 6 characters"),s())}function W(t,a){t&1&&(r(0,"small"),p(1," Password must contain at least 1 uppercase letter, 1 number, and 1 special character "),s())}function Y(t,a){if(t&1&&(r(0,"div"),d(1,H,2,0,"small",10)(2,U,2,0,"small",10)(3,W,2,0,"small",10),s()),t&2){let i,e,l,m=_();f("color","red"),n(),o("ngIf",(i=m.form.get("password"))==null||i.errors==null?null:i.errors.required),n(),o("ngIf",(e=m.form.get("password"))==null||e.errors==null?null:e.errors.minlength),n(),o("ngIf",(l=m.form.get("password"))==null||l.errors==null?null:l.errors.pattern)}}var G=class t{constructor(a,i,e){this.fb=a;this.router=i;this.ngZone=e}loading=!1;errorMessage="";isShow=!1;user;form=new E({email:new v("",[u.required,u.email]),password:new v("",[u.required,u.minLength(6)])});setShow(){this.isShow=!this.isShow}onSubmit(){return w(this,null,function*(){if(this.form.invalid){this.form.markAllAsTouched();return}this.loading=!0,this.errorMessage="";let{email:a,password:i}=this.form.value;try{this.user=yield this.fb.signIn(a,i),this.ngZone.run(()=>{this.router.navigate(["/app"])})}catch(e){console.error("\u274C Login error:",e),this.errorMessage=e.message||"Login failed. Please try again."}finally{this.loading=!1}})}static \u0275fac=function(i){return new(i||t)(g(D),g(P),g(x))};static \u0275cmp=b({type:t,selectors:[["app-login"]],decls:20,vars:13,consts:[[1,"auth-link",3,"routerLink"],[1,"app-login"],[3,"ngSubmit","formGroup"],["formControlName","email","type","email","placeholder","Write email"],[3,"color",4,"ngIf"],["formControlName","password","placeholder","Write password",3,"type"],["type","button",1,"auth-show-password",3,"click"],["src","/assets/svg/unshow.svg","width","25","height","25","alt","Hide password icon",4,"ngIf"],["src","/assets/svg/show.svg","width","25","height","25","alt","Show password icon",4,"ngIf"],["type","submit",1,"auth-btn",3,"disabled"],[4,"ngIf"],["src","/assets/svg/unshow.svg","width","25","height","25","alt","Hide password icon"],["src","/assets/svg/show.svg","width","25","height","25","alt","Show password icon"]],template:function(i,e){if(i&1&&(r(0,"a",0),p(1,"Sign up"),s(),r(2,"div",1)(3,"form",2),h("ngSubmit",function(){return e.onSubmit()}),r(4,"label"),p(5," Email: "),c(6,"input",3),s(),d(7,A,3,4,"div",4),r(8,"label"),p(9," Password: "),c(10,"input",5),r(11,"button",6),h("click",function(){return e.setShow()}),d(12,V,1,0,"img",7)(13,z,1,0,"img",8),s()(),d(14,Y,4,5,"div",4),c(15,"br"),r(16,"span"),p(17),s(),r(18,"button",9),p(19),s()()()),i&2){let l,m;o("routerLink",C(12,R)),n(3),o("formGroup",e.form),n(4),o("ngIf",((l=e.form.get("email"))==null?null:l.invalid)&&((l=e.form.get("email"))==null?null:l.touched)),n(3),o("type",e.isShow?"text":"password"),n(2),o("ngIf",e.isShow),n(),o("ngIf",!e.isShow),n(),o("ngIf",((m=e.form.get("password"))==null?null:m.invalid)&&((m=e.form.get("password"))==null?null:m.touched)),n(2),f("color","red"),n(),y(e.errorMessage),n(),o("disabled",e.loading),n(),S(" ",e.loading?"Loading...":"Enter"," ")}},dependencies:[q,N,L,k,O,T,F,M,I],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column}a[_ngcontent-%COMP%], span[_ngcontent-%COMP%]{color:var(--ligth-color)}input[_ngcontent-%COMP%]{margin-top:8px;color:var(--ligth-color);background:var(--dark-color);width:400px;height:44px;gap:10px;opacity:1;padding:12px 20px;border-radius:2px;border-width:1px}label[_ngcontent-%COMP%]{margin-top:16px;color:var(--ligth-color, white);width:400px}.auth-btn[_ngcontent-%COMP%]{margin-top:16px;height:44px;gap:10px;width:400px;padding:12px 20px;border-radius:2px;border-width:1px}.error[_ngcontent-%COMP%]{color:red}.auth-btn[_ngcontent-%COMP%]{--ripple-duration: .7s;position:relative;display:inline-block;border:1px solid rgba(255,255,255,.18);cursor:pointer;-webkit-user-select:none;user-select:none;color:#e6faff;font-weight:600;font-size:16px;padding:14px 36px;border-radius:4px;background:#ffffff14;backdrop-filter:blur(10px) saturate(180%);-webkit-backdrop-filter:blur(10px) saturate(180%);box-shadow:0 8px 24px #0000004d,inset 0 1px #ffffff26;transition:transform .2s cubic-bezier(.2,.9,.3,1),box-shadow .2s,background .2s;overflow:hidden;outline:none}.auth-btn[_ngcontent-%COMP%]:hover{transform:translateY(-3px);background:#ffffff1f;box-shadow:0 10px 30px #00ffff26}.auth-btn[_ngcontent-%COMP%]:active{transform:translateY(0);background:#ffffff2e}.auth-btn[_ngcontent-%COMP%]   .ripple[_ngcontent-%COMP%]{position:absolute;border-radius:50%;transform:translate(-50%,-50%) scale(0);opacity:.9;pointer-events:none;mix-blend-mode:screen;will-change:transform,opacity}.auth-show-password[_ngcontent-%COMP%]{background:none;color:#5f646d;border:none;position:absolute;transform:translate(-34px,17px);cursor:pointer}@media screen and (max-width: 640px){.app-login[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%}form[_ngcontent-%COMP%]{align-items:center}label[_ngcontent-%COMP%], input[_ngcontent-%COMP%], .auth-btn[_ngcontent-%COMP%]{width:70vw}.auth-show-password[_ngcontent-%COMP%]{transform:translate(70vw,-35px)}}"]})};export{G as a};
