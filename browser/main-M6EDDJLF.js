import{a as Z}from"./chunk-I3VCMPWK.js";import{a as $}from"./chunk-6OT6GQSN.js";import{a as Y,b as S}from"./chunk-BG2POIH2.js";import{a as B,b as J,c as K,d as b,e as h,f as Q,g as X}from"./chunk-MHAYUD63.js";import{h as P}from"./chunk-IRSRVVSW.js";import{Aa as v,Ja as U,Ka as W,Na as x,Oa as i,Pa as r,Q as E,Qa as a,Ra as z,Sa as G,Ta as V,Ua as g,V as c,Va as C,W as p,Wa as R,Xa as H,Ya as q,_a as l,aa as j,ab as w,e as M,ib as D,pa as u,ua as d,wb as y,x as F,ya as m}from"./chunk-L2NJ6PD6.js";function te(e,n){if(e&1&&(i(0,"div",1),l(1),r()),e&2){let t=C();H("background-color",t.type==="success"?"green":"red"),u(),w(" ",t.message,`
`)}}var k=class e{constructor(n){this.alertService=n;this.alertService.register(this)}isShow=!1;message="";type="error";setAlert(n,t){this.type=n,this.message=t,this.isShow=!0,setTimeout(()=>this.isShow=!1,3e3)}static \u0275fac=function(t){return new(t||e)(d(Y))};static \u0275cmp=m({type:e,selectors:[["app-alert"]],decls:1,vars:1,consts:[["class","alert",3,"background-color",4,"ngIf"],[1,"alert"]],template:function(t,o){t&1&&v(0,te,2,3,"div",0),t&2&&x("ngIf",o.isShow)},dependencies:[y],styles:[".alert[_ngcontent-%COMP%]{position:absolute;top:10px;right:50%;transform:translate(50%);width:80%;height:50px;z-index:1000;border:1px solid white;border-radius:10px;margin:10px auto;padding:10px;text-align:center;color:#fff;font-size:20px}"]})};var A=class e{title=j("Van-Vliet");constructor(){console.log("\u2705 AppComponent bootstrapped")}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=m({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(t,o){t&1&&a(0,"app-alert")(1,"router-outlet")},dependencies:[b,k],encapsulation:2})};function oe(e,n){e&1&&a(0,"app-login")}function ae(e,n){e&1&&a(0,"app-registration")}var I=class e{constructor(n,t){this.router=n;this.authService=t;this.user=this.authService.isLoggedIn(),this.user&&this.router.navigate(["/vliet-app/app"]),this.router.events.pipe(F(o=>o instanceof K)).subscribe(o=>{this.currentUrl=window.location.pathname})}currentUrl="";user=null;static \u0275fac=function(t){return new(t||e)(d(h),d(S))};static \u0275cmp=m({type:e,selectors:[["app-auth-wrapper"]],decls:8,vars:1,consts:[[1,"auth-container"],[1,"auth-main"],[1,"auth-welcome-message"],["src","/assets/svg/logo.svg","width","300"],[1,"h2-blue"]],template:function(t,o){t&1&&(i(0,"section",0)(1,"div",1),U(2,oe,1,0,"app-login")(3,ae,1,0,"app-registration"),i(4,"div",2),a(5,"img",3),i(6,"h2",4),l(7,"WELCOME"),r()()()()),t&2&&(u(2),W(o.currentUrl==="/vliet-app/auth/login"?2:o.currentUrl==="/vliet-app/auth/registration"?3:-1))},dependencies:[Z,$],styles:[".auth-container[_ngcontent-%COMP%]{width:100%;display:flex;height:100dvh;align-items:center;justify-content:center}.auth-main[_ngcontent-%COMP%]{display:flex;gap:10px;background:#3b3737;opacity:.8;padding:20px;width:100%;flex-direction:column-reverse;align-content:center;align-items:center;box-shadow:#185995 0 0 20px 12px}.auth-main[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--ligth-color)}.auth-main[_ngcontent-%COMP%]   .auth-welcome-message[_ngcontent-%COMP%]{text-align:center;display:flex;align-items:center;justify-content:center;width:248px;flex-direction:column}.auth-main[_ngcontent-%COMP%]   .info-message[_ngcontent-%COMP%]{color:var(--ligth-color)}@media screen and (max-width: 640px){.auth-main[_ngcontent-%COMP%]{display:flex;gap:10px;background:#3b3737;opacity:.7;padding:20px;width:100%}}@media screen and (max-width: 440px){.auth-main[_ngcontent-%COMP%]{display:flex;gap:10px;background:#3b3737;opacity:.95;padding:20px;width:88%;flex-direction:column-reverse;align-content:center;align-items:center}}",".h2-blue[_ngcontent-%COMP%]{color:#1c69af!important;margin-top:-85px}"]})};function re(e,n){e&1&&a(0,"img",20)}function le(e,n){e&1&&a(0,"img",21)}function se(e,n){if(e&1){let t=V();z(0),i(1,"li",6),g("click",function(){c(t);let s=C();return p(s.toggleMenu())}),a(2,"img",22),i(3,"a",23),g("click",function(){c(t);let s=C();return p(s.logout())}),l(4,"Logout"),r()(),G()}}function ce(e,n){e&1&&(i(0,"li"),a(1,"img",24),i(2,"a",25),l(3,"Login"),r()())}var N=class e{constructor(n,t,o){this.authService=n;this.fb=t;this.router=o;this.user=this.authService.getUserEmail(),this.isLoggedIn=this.authService.getUserEmail(),this.user=this.user?.slice(0,this.user?.indexOf("@"))}menuOpen=!1;isLoggedIn;user=null;toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}logout(){return M(this,null,function*(){try{this.closeMenu(),yield this.fb.signOutUser(),console.log("\u{1F6AA} Logged out"),this.isLoggedIn=!1,yield this.router.navigate(["vliet-app/auth/login"])}catch(n){console.error("Logout error:",n)}})}static \u0275fac=function(t){return new(t||e)(d(S),d(P),d(h))};static \u0275cmp=m({type:e,selectors:[["app-navigation"]],decls:35,vars:7,consts:[["closeIcon",""],["login",""],[1,"burger",3,"click"],["src","/assets/svg/burger.svg","alt","Open menu","class","icon-svg",4,"ngIf","ngIfElse"],[1,"nav"],[1,"nav-ul"],[3,"click"],["src","/assets/svg/home.svg","alt","Home",1,"icon-svg"],["routerLink","/vliet-app/app/main",1,"nav-link"],["src","/assets/svg/time.svg","alt","Time Counter",1,"icon-svg"],["routerLink","/vliet-app/app/time-counter",1,"nav-link"],["src","/assets/svg/truck.svg","alt","Load Management",1,"icon-svg"],["routerLink","/vliet-app/app/load-management",1,"nav-link"],["src","/assets/svg/pallet.svg","alt","Package Count",1,"icon-svg"],["routerLink","/vliet-app/app/package-count",1,"nav-link"],["src","/assets/svg/map.svg","alt","Load Locations",1,"icon-svg"],["routerLink","/vliet-app/app/load-location",1,"nav-link"],["src","/assets/svg/map.svg","alt","+ New Address",1,"icon-svg"],["routerLink","/vliet-app/app/add-new-address",1,"nav-link"],[4,"ngIf","ngIfElse"],["src","/assets/svg/burger.svg","alt","Open menu",1,"icon-svg"],["src","/assets/svg/close.svg","alt","Close menu",1,"icon-svg"],["src","/assets/svg/logout.svg","alt","Logout",1,"icon-svg"],[1,"nav-link",3,"click"],["src","/assets/svg/logout.svg","alt","Login",1,"icon-svg"],["routerLink","vliet-app/auth/login",1,"nav-link"]],template:function(t,o){if(t&1){let s=V();i(0,"div",2),g("click",function(){return c(s),p(o.toggleMenu())}),v(1,re,1,0,"img",3),r(),v(2,le,1,0,"ng-template",null,0,D),i(4,"nav",4)(5,"h2"),l(6),r(),i(7,"ul",5)(8,"li",6),g("click",function(){return c(s),p(o.toggleMenu())}),a(9,"img",7),i(10,"a",8),l(11,"Main"),r()(),i(12,"li",6),g("click",function(){return c(s),p(o.toggleMenu())}),a(13,"img",9),i(14,"a",10),l(15,"Time counter"),r()(),i(16,"li",6),g("click",function(){return c(s),p(o.toggleMenu())}),a(17,"img",11),i(18,"a",12),l(19,"Load Management"),r()(),i(20,"li",6),g("click",function(){return c(s),p(o.toggleMenu())}),a(21,"img",13),i(22,"a",14),l(23,"Package Count"),r()(),i(24,"li",6),g("click",function(){return c(s),p(o.toggleMenu())}),a(25,"img",15),i(26,"a",16),l(27,"Load Locations"),r()(),i(28,"li",6),g("click",function(){return c(s),p(o.toggleMenu())}),a(29,"img",17),i(30,"a",18),l(31,"+ new address"),r()(),v(32,se,5,0,"ng-container",19)(33,ce,4,0,"ng-template",null,1,D),r()()}if(t&2){let s=R(3),f=R(34);u(),x("ngIf",!o.menuOpen)("ngIfElse",s),u(3),q("open",o.menuOpen),u(2),w("Hello, ",o.user?o.user:"Guest"),u(26),x("ngIf",o.isLoggedIn)("ngIfElse",f)}},dependencies:[Q,y],styles:[".content[_ngcontent-%COMP%]{margin-left:200px}h2[_ngcontent-%COMP%]{margin:80px 20px 0;color:var(--ligth-color)}.nav[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:200px;height:100vh;background:#091b2e;border:1px solid #1c69af;opacity:1;transition:left .3s ease,opacity .3s ease;z-index:10}.nav[_ngcontent-%COMP%]   .nav-ul[_ngcontent-%COMP%]{margin:60px 20px 20px;display:flex;flex-direction:column;align-items:flex-start}.nav[_ngcontent-%COMP%]   .nav-ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-top:26px;display:flex;align-items:center}.nav[_ngcontent-%COMP%]   .nav-ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--ligth-color);margin-bottom:-3px;font-size:20px;font-family:Times New Roman}.icon-svg[_ngcontent-%COMP%]{width:20px;height:20px;margin-right:10px;filter:invert(100%) sepia(0%) saturate(0%) hue-rotate(0deg) brightness(1)}.burger[_ngcontent-%COMP%]{display:none;position:absolute;top:15px;left:15px;cursor:pointer;z-index:25}.close[_ngcontent-%COMP%]{display:none;position:absolute;top:15px;right:15px;cursor:pointer;z-index:25}@media (max-width: 768px){.burger[_ngcontent-%COMP%]{display:block}.content[_ngcontent-%COMP%]{margin:20px}.nav[_ngcontent-%COMP%]{position:fixed;left:-80vw;top:0;width:80vw;opacity:.87;transition:left .3s ease,opacity .3s ease}.nav.open[_ngcontent-%COMP%]{left:0}.close[_ngcontent-%COMP%]{display:block}}"]})};var T=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=m({type:e,selectors:[["app-main-page"]],decls:4,vars:0,consts:[[1,"layout"],[1,"main-content"]],template:function(t,o){t&1&&(i(0,"div",0),a(1,"app-navigation"),i(2,"main",1),a(3,"router-outlet"),r()())},dependencies:[b,N],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:row}.main-content[_ngcontent-%COMP%]{flex:1;padding:20px;margin-left:200px}@media (max-width: 600px){.layout[_ngcontent-%COMP%]{flex-direction:column}.main-content[_ngcontent-%COMP%]{margin-left:0}}"]})};var _=()=>M(null,null,function*(){let e=E(P),n=E(h),t=yield e.isLoggedIn();return console.log("authGuard triggered, isLoggedIn =",t),t?!0:(yield n.navigate(["/vliet-app/auth/login"]),!1)});var ee=[{path:"",redirectTo:"/vliet-app/auth/login",pathMatch:"full"},{path:"vliet-app/auth",component:I,children:[{path:"login",loadComponent:()=>import("./chunk-4AXYHHVN.js").then(e=>e.Login),data:{title:"Login"}},{path:"registration",loadComponent:()=>import("./chunk-XFE2LZTY.js").then(e=>e.Registration),data:{title:"Register"}}]},{path:"vliet-app/app",component:T,canActivate:[_],children:[{path:"load-management",canActivate:[_],loadComponent:()=>import("./chunk-YW43LURC.js").then(e=>e.LoadCalculatorPage),data:{title:"Load Calculator"}},{path:"time-counter",canActivate:[_],loadComponent:()=>import("./chunk-MBH3TRHU.js").then(e=>e.TimeCounter),data:{title:"Time Counter"}},{path:"add-new-address",canActivate:[_],loadComponent:()=>import("./chunk-AXBH4ATE.js").then(e=>e.AddNewClients),data:{title:"Add New Address"}},{path:"load-location",canActivate:[_],loadComponent:()=>import("./chunk-EEACSBVZ.js").then(e=>e.LoadLocation),data:{title:"Load Location"}}]},{path:"login",redirectTo:"/vliet-app/auth/login",pathMatch:"full"},{path:"**",redirectTo:"/vliet-app/auth/login"}];B(A,{providers:[X(ee),J()]}).catch(e=>console.error(e));
