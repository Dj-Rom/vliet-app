import{$a as p,Aa as m,Cb as E,Eb as w,Ib as R,Kb as v,Na as d,Nb as A,Oa as a,Ob as F,Pa as i,Pb as D,Qa as f,Qb as N,Sb as W,Ua as g,Va as L,_a as o,ab as T,bb as O,cb as b,db as C,eb as y,fb as P,gb as k,hb as x,pa as c,vb as S,xb as M,ya as _,yb as I}from"./chunk-L2NJ6PD6.js";var h=class{TIR;SOLO;TRAILER;constructor(){let n={capacityCC:43,Pallets:{CC:{ccValue:1},KK:{ccValue:1.909},FIN:{ccValue:1.65},EURO:{ccValue:1.303},ISO:{ccValue:1.953}},currentLoaded:{CC:0,KK:0,FIN:0,EURO:0,ISO:0},canLoad:{CC:0,KK:0,FIN:0,EURO:0,ISO:0}};this.TIR=structuredClone(n),this.SOLO=structuredClone(n),this.TRAILER=structuredClone(n),this.TIR.capacityCC=43,this.SOLO.capacityCC=26,this.TRAILER.capacityCC=23,this.loadFromStorage(),this.recalculateAll()}getTruck(n){return this[n]}totalLoad(n){let t=this.getTruck(n),e=Object.entries(t.currentLoaded).reduce((r,[u,z])=>r+t.Pallets[u].ccValue*z,0),l=e/t.capacityCC*100;return{usedCC:e,capacityCC:t.capacityCC,percentFull:Math.min(l,100)}}recalculateCanLoad(n){let t=this.getTruck(n),{usedCC:e}=this.totalLoad(n),l=Math.max(t.capacityCC-e,0);for(let r in t.Pallets)t.canLoad[r]=Math.floor(l/t.Pallets[r].ccValue)}recalculateAll(){["TIR","SOLO","TRAILER"].forEach(n=>this.recalculateCanLoad(n)),this.save()}load(n,t,e){let l=this.getTruck(n);if(!l.Pallets[t])return;let r=l.canLoad[t],u=Math.min(e,r);l.currentLoaded[t]+=u,u<e&&alert(`\u{1F6AB} \u041F\u043E\u043C\u0435\u0441\u0442\u0438\u043B\u043E\u0441\u044C \u0442\u043E\u043B\u044C\u043A\u043E ${u} \u0438\u0437 ${e}`),this.recalculateAll()}unload(n,t,e){let l=this.getTruck(n);l.currentLoaded[t]=Math.max(0,l.currentLoaded[t]-e),this.recalculateAll()}remainingAll(n){return this.getTruck(n).canLoad}resetAll(){["TIR","SOLO","TRAILER"].forEach(n=>{let t=this.getTruck(n);for(let e in t.currentLoaded)t.currentLoaded[e]=0;this.recalculateCanLoad(n)}),this.save()}save(){localStorage.setItem("truckDataCC",JSON.stringify({TIR:this.TIR,SOLO:this.SOLO,TRAILER:this.TRAILER}))}loadFromStorage(){let n=localStorage.getItem("truckDataCC");if(!n)return;let t=JSON.parse(n);for(let e of["TIR","SOLO","TRAILER"]){let l=this.getTruck(e);t[e]&&(l.currentLoaded=t[e].currentLoaded,l.canLoad=t[e].canLoad)}}};var K=()=>["TIR","SOLO","TRAILER"];function j(s,n){if(s&1&&(a(0,"option",12),o(1),i()),s&2){let t=n.$implicit;d("value",t),c(),p(t)}}function U(s,n){if(s&1&&(a(0,"option",12),o(1),i()),s&2){let t=n.$implicit;d("value",t),c(),p(t)}}function B(s,n){if(s&1&&(a(0,"tr")(1,"td"),o(2),i(),a(3,"td"),o(4),i(),a(5,"td"),o(6),i()()),s&2){let t=n.$implicit,e=L();c(2),p(t),c(2),p(e.truckTypes.getTruck(e.selectedType).currentLoaded[t]),c(2),p(e.truckTypes.getTruck(e.selectedType).canLoad[t])}}var V=class s{truckTypes=new h;selectedType="TIR";palletType="CC";count;ngOnInit(){this.updatePalletType()}updatePalletType(){let n=this.truckTypes.getTruck(this.selectedType);this.palletType=Object.keys(n.Pallets)[0]||""}load(){this.truckTypes.load(this.selectedType,this.palletType,this.count)}unload(){this.truckTypes.unload(this.selectedType,this.palletType,this.count)}resetAll(){this.truckTypes.resetAll()}totalLoad(){return this.truckTypes.totalLoad(this.selectedType)}remainingAll(){return this.truckTypes.remainingAll(this.selectedType)}palletKeys(){return Object.keys(this.truckTypes.getTruck(this.selectedType).Pallets)}static \u0275fac=function(t){return new(t||s)};static \u0275cmp=_({type:s,selectors:[["app-load-calculator-page"]],decls:50,vars:17,consts:[[1,"load-calculator-section"],[1,"load-calculator-section-input-block"],[3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"ngModelChange","ngModel"],["type","number","min","1","placeholder","Write count...",3,"ngModelChange","ngModel"],[1,"buttons"],["id","btn-add",3,"click"],["id","btn-del",3,"click"],["id","btn-reset",3,"click"],[1,"pallet-table"],[4,"ngFor","ngForOf"],[3,"value"]],template:function(t,e){t&1&&(a(0,"section",0)(1,"div",1)(2,"label"),o(3," Truck Type: "),a(4,"select",2),y("ngModelChange",function(r){return C(e.selectedType,r)||(e.selectedType=r),r}),g("change",function(){return e.updatePalletType()}),m(5,j,2,2,"option",3),i()(),a(6,"label"),o(7," Pallet Type: "),a(8,"select",4),y("ngModelChange",function(r){return C(e.palletType,r)||(e.palletType=r),r}),m(9,U,2,2,"option",3),i()(),a(10,"label"),o(11," Count: "),a(12,"input",5),y("ngModelChange",function(r){return C(e.count,r)||(e.count=r),r}),i()()(),a(13,"div",6)(14,"button",7),g("click",function(){return e.load()}),o(15,"Load"),i(),a(16,"button",8),g("click",function(){return e.unload()}),o(17,"Unload"),i(),a(18,"button",9),g("click",function(){return e.resetAll()}),o(19,"Reset All"),i()(),a(20,"h3"),o(21),i(),a(22,"p"),o(23),k(24,"number"),i(),a(25,"p"),o(26),k(27,"number"),i(),a(28,"table",10)(29,"thead")(30,"tr")(31,"th"),o(32,"Pallet"),i(),a(33,"th"),o(34,"Loaded"),i(),a(35,"th"),o(36,"Can Load"),i()()(),a(37,"tbody"),m(38,B,7,3,"tr",11),i()(),f(39,"br"),a(40,"p"),o(41,"***SIZE***"),i(),a(42,"span"),o(43," ISO- L:120, W:120 "),i(),f(44,"br"),a(45,"span"),o(46," FIN- L:120, W:100 "),i(),f(47,"br"),a(48,"span"),o(49," EURO- L:120,W:80 "),i()()),t&2&&(c(4),b("ngModel",e.selectedType),c(),d("ngForOf",P(16,K)),c(3),b("ngModel",e.palletType),c(),d("ngForOf",e.palletKeys()),c(3),b("ngModel",e.count),c(9),T("",e.selectedType," Status"),c(2),O("Used: ",x(24,10,e.totalLoad().usedCC,"1.2-2")," CC / Capacity: ",e.totalLoad().capacityCC," CC"),c(3),T("Fullness: ",x(27,13,e.totalLoad().percentFull,"1.1-1"),"%"),c(12),d("ngForOf",e.palletKeys()))},dependencies:[I,S,W,F,D,E,v,A,w,N,R,M],styles:[".load-calculator-section[_ngcontent-%COMP%]{max-width:1000px;margin:5px;padding:1rem;background:#1c69af;opacity:.8;color:var(--ligth-color);border-radius:10px}.load-calculator-section-input-block[_ngcontent-%COMP%]{display:flex;justify-content:center}label[_ngcontent-%COMP%]{margin:16px;color:var(--ligth-color, white);max-width:400px;font-size:22px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{max-width:400px;height:44px;gap:10px;opacity:1;padding:12px 20px;border-radius:4px;border-width:1px}.buttons[_ngcontent-%COMP%]{display:flex;justify-content:end;margin:1rem 0}button[_ngcontent-%COMP%]{margin-right:.5rem;padding:.3rem .8rem}#btn-add[_ngcontent-%COMP%]{--ripple-duration: .7s;position:relative;display:inline-block;border:1px solid rgba(255,255,255,.18);cursor:pointer;-webkit-user-select:none;user-select:none;color:#e6faff;font-weight:600;font-size:16px;padding:14px 36px;border-radius:4px;background:#ffffff14;backdrop-filter:blur(10px) saturate(180%);-webkit-backdrop-filter:blur(10px) saturate(180%);box-shadow:0 8px 24px #0000004d,inset 0 1px #ffffff26;transition:transform .2s cubic-bezier(.2,.9,.3,1),box-shadow .2s,background .2s;overflow:hidden;outline:none;background:green}#btn-del[_ngcontent-%COMP%]{--ripple-duration: .7s;position:relative;display:inline-block;border:1px solid rgba(255,255,255,.18);cursor:pointer;-webkit-user-select:none;user-select:none;color:#e6faff;font-weight:600;font-size:16px;padding:14px 36px;border-radius:4px;background:#ffffff14;backdrop-filter:blur(10px) saturate(180%);-webkit-backdrop-filter:blur(10px) saturate(180%);box-shadow:0 8px 24px #0000004d,inset 0 1px #ffffff26;transition:transform .2s cubic-bezier(.2,.9,.3,1),box-shadow .2s,background .2s;overflow:hidden;outline:none;background:#cd5c5c}#btn-reset[_ngcontent-%COMP%]{--ripple-duration: .7s;position:relative;display:inline-block;border:1px solid rgba(255,255,255,.18);cursor:pointer;-webkit-user-select:none;user-select:none;color:#e6faff;font-weight:600;font-size:16px;padding:14px 36px;border-radius:4px;background:#ffffff14;backdrop-filter:blur(10px) saturate(180%);-webkit-backdrop-filter:blur(10px) saturate(180%);box-shadow:0 8px 24px #0000004d,inset 0 1px #ffffff26;transition:transform .2s cubic-bezier(.2,.9,.3,1),box-shadow .2s,background .2s;overflow:hidden;outline:none}.pallet-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:1rem}.pallet-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .pallet-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ccc;padding:.5rem;text-align:center}@media (max-width: 600px){#btn-add[_ngcontent-%COMP%], #btn-del[_ngcontent-%COMP%], #btn-reset[_ngcontent-%COMP%]{width:80px;text-align:center;font-size:15px;padding:10px}.pallet-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .pallet-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:.8rem;padding:.3rem}.load-calculator-section[_ngcontent-%COMP%]{opacity:.8;color:var(--ligth-color);border-radius:10px;display:flex;margin:10px;justify-content:center;flex-direction:column;align-items:center}.load-calculator-section-input-block[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column}}"]})};export{V as LoadCalculatorPage};
