import{e as z,f as F}from"./chunk-WHIQFPGR.js";import{g as _,h as H}from"./chunk-KFXH5GP6.js";import{a as N,b as g,c as q,d as D,e as V,f as y,h as A,j as L,k as G,s as j}from"./chunk-KBOLL6IX.js";import{g as k}from"./chunk-AWDAIWPN.js";import{Ca as O,Ha as p,Wa as s,Xa as i,Y as P,Ya as a,Z as M,Za as u,ab as R,db as b,e as S,eb as d,gb as f,jb as m,kb as I,lb as E,rb as T,sa as o,ya as C}from"./chunk-XTGCJEIM.js";var X=()=>["/auth/login"];function $(e,l){if(e&1){let n=R();i(0,"div",22),u(1,"img",23),m(2),i(3,"img",24),b("click",function(){P(n);let r=d();return M(r.form.reset())}),a()()}if(e&2){let n=d();f("color","red"),o(2),E("",n.message," ")}}function W(e,l){e&1&&(i(0,"small"),m(1,"Full name is required"),a())}function Z(e,l){e&1&&(i(0,"small"),m(1,"Minimum 4 characters"),a())}function B(e,l){if(e&1&&(i(0,"div",25),p(1,W,2,0,"small",19)(2,Z,2,0,"small",19),a()),e&2){let n,t,r=d();o(),s("ngIf",(n=r.form.get("name"))==null||n.errors==null?null:n.errors.required),o(),s("ngIf",(t=r.form.get("name"))==null||t.errors==null?null:t.errors.minlength)}}function J(e,l){e&1&&(i(0,"small"),m(1,"Email is required"),a())}function K(e,l){e&1&&(i(0,"small"),m(1,"Invalid email format"),a())}function Q(e,l){if(e&1&&(i(0,"div",25),p(1,J,2,0,"small",19)(2,K,2,0,"small",19),a()),e&2){let n,t,r=d();o(),s("ngIf",(n=r.form.get("email"))==null||n.errors==null?null:n.errors.required),o(),s("ngIf",(t=r.form.get("email"))==null||t.errors==null?null:t.errors.email)}}function Y(e,l){e&1&&u(0,"img",26)}function ee(e,l){e&1&&u(0,"img",27)}function te(e,l){e&1&&(i(0,"small"),m(1,"Password is required"),a())}function ie(e,l){e&1&&(i(0,"small"),m(1,"Minimum 8 characters"),a())}function ne(e,l){e&1&&(i(0,"small"),m(1," Must contain 1 uppercase letter, 1 number, and 1 special character "),a())}function re(e,l){if(e&1&&(i(0,"div",25),p(1,te,2,0,"small",19)(2,ie,2,0,"small",19)(3,ne,2,0,"small",19),a()),e&2){let n,t,r,c=d();o(),s("ngIf",(n=c.form.get("password"))==null||n.errors==null?null:n.errors.required),o(),s("ngIf",(t=c.form.get("password"))==null||t.errors==null?null:t.errors.minlength),o(),s("ngIf",(r=c.form.get("password"))==null||r.errors==null?null:r.errors.pattern)}}function oe(e,l){if(e&1&&(i(0,"div",28),m(1),a()),e&2){let n=d();o(),I(n.message)}}function ae(e,l){e&1&&(i(0,"span"),m(1,"Create account"),a())}function le(e,l){e&1&&(i(0,"span"),m(1,"\u23F3 Processing..."),a())}var U=class e{constructor(l,n){this.fb=l;this.router=n}isShow=!1;loading=!1;message="";CODE=_;form=new V({name:new y("",[g.required,g.minLength(4)]),email:new y("",[g.required,g.email]),password:new y("",[g.required,g.minLength(6),g.pattern(/^(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]).+$/)])});setShow(){this.isShow=!this.isShow}onSubmit(){return S(this,null,function*(){if(this.form.invalid){this.form.markAllAsTouched();return}this.loading=!0,this.message="";let{email:l,password:n,name:t}=this.form.value;try{if(_!==this.CODE){this.message="Invalid registration code.",this.loading=!1;return}let r=yield this.fb.signUp(l,n,_);r?.uid&&(yield this.fb.saveUserData(r.uid,{email:l,code:_,createdAt:new Date().toISOString()}),console.log("\u2705 Registration successful:",r.uid),this.message="Registration successful! Redirecting...",setTimeout(()=>this.router.navigate(["/login"]),2e3))}catch(r){console.error("\u274C Registration failed:",r),this.message=r.message||"Registration failed. Try again."}finally{this.loading=!1}})}static \u0275fac=function(n){return new(n||e)(C(H),C(z))};static \u0275cmp=O({type:e,selectors:[["app-registration"]],decls:32,vars:20,consts:[["xmlns","http://www.w3.org/1999/html",1,"auth-registration"],[1,"auth-logo-group"],[1,"font700size32"],[1,"mt8","font400size14"],["class","error-auth-message mt16 font400size16",3,"color",4,"ngIf"],[1,"auth-form-registration","mt68",3,"ngSubmit","formGroup"],["for","name",1,"mt14","font500size14"],["formControlName","name","type","password","placeholder","Full name",1,"input","font400size16"],["class","error-auth-m mt6 font400size16",4,"ngIf"],["for","email",1,"mt24","font500size14"],["formControlName","email","type","email","placeholder","example@mail.com",1,"input","font400size16"],["for","password",1,"mt24","font500size14"],[1,"auth-password-group"],["name","password","formControlName","password","placeholder","Min 8 characters",1,"input","font400size16",3,"type"],["type","button",1,"auth-show-password",3,"click"],["src","assets/svg/unshow.svg","width","25","height","25","alt","Hide password icon",4,"ngIf"],["src","assets/svg/show.svg","width","25","height","25","alt","Show password icon",4,"ngIf"],["class","info-message",4,"ngIf"],["type","submit",1,"button","mt56","btn-auth-submit","font600size16",3,"disabled"],[4,"ngIf"],[1,"font400size14","sing-up","mt24"],[1,"auth-link","font500size14",3,"routerLink"],[1,"error-auth-message","mt16","font400size16"],["src","assets/svg/error-message-logo.svg","alt","error=logo"],["src","assets/svg/close-X.svg","alt","X",3,"click"],[1,"error-auth-m","mt6","font400size16"],["src","assets/svg/unshow.svg","width","25","height","25","alt","Hide password icon"],["src","assets/svg/show.svg","width","25","height","25","alt","Show password icon"],[1,"info-message"]],template:function(n,t){if(n&1&&(i(0,"section",0)(1,"div",1)(2,"h2",2),m(3,"Welcome to Vliet"),a(),i(4,"span",3),m(5,"Please log in using the form below."),a()(),p(6,$,4,3,"div",4),i(7,"form",5),b("ngSubmit",function(){return t.onSubmit()}),i(8,"label",6),m(9," Full name "),a(),u(10,"input",7),p(11,B,3,2,"div",8),i(12,"label",9),m(13," Email "),a(),u(14,"input",10),p(15,Q,3,2,"div",8),i(16,"label",11),m(17," Password "),a(),i(18,"div",12),u(19,"input",13),i(20,"button",14),b("click",function(){return t.setShow()}),p(21,Y,1,0,"img",15)(22,ee,1,0,"img",16),a()(),p(23,re,4,3,"div",8)(24,oe,2,1,"div",17),i(25,"button",18),p(26,ae,2,0,"span",19)(27,le,2,0,"span",19),a(),i(28,"div",20),m(29," Already have account? "),i(30,"a",21),m(31,"Log in"),a()()()()),n&2){let r,c,h,v,x,w;o(6),s("ngIf",t.message),o(),s("formGroup",t.form),o(3),f("border-color",!((r=t.form.get("name"))!=null&&r.valid)&&((r=t.form.get("name"))!=null&&r.touched)?"rgba(255, 94, 94, 1)":"black"),o(),s("ngIf",((c=t.form.get("name"))==null?null:c.invalid)&&((c=t.form.get("name"))==null?null:c.touched)),o(3),f("border-color",!((h=t.form.get("email"))!=null&&h.valid)&&((h=t.form.get("email"))!=null&&h.touched)?"rgba(255, 94, 94, 1)":"black"),o(),s("ngIf",((v=t.form.get("email"))==null?null:v.invalid)&&((v=t.form.get("email"))==null?null:v.touched)),o(4),f("border-color",!((x=t.form.get("password"))!=null&&x.valid)&&((x=t.form.get("password"))!=null&&x.touched)?"rgba(255, 94, 94, 1)":"black"),s("type",t.isShow?"text":"password"),o(2),s("ngIf",!t.isShow),o(),s("ngIf",t.isShow),o(),s("ngIf",((w=t.form.get("password"))==null?null:w.invalid)&&((w=t.form.get("password"))==null?null:w.touched)),o(),s("ngIf",t.message),o(),s("disabled",t.loading),o(),s("ngIf",!t.loading),o(),s("ngIf",t.loading),o(3),s("routerLink",T(19,X))}},dependencies:[j,A,N,q,D,L,G,k,F],styles:[".auth-registration[_ngcontent-%COMP%]{top:134px;width:100%;position:relative;height:100dvh;flex-direction:column}.auth-registration[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block}input[_ngcontent-%COMP%]:focus, input[_ngcontent-%COMP%]:active, label[_ngcontent-%COMP%]:focus, label[_ngcontent-%COMP%]:active{outline:none;border:1px solid rgba(76,141,255,1)!important}.auth-form-registration[_ngcontent-%COMP%]{width:361px;height:344px;angle:0deg;opacity:1;top:270px;left:16px;gap:56px}.auth-form-registration[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:362px;height:20px;angle:0 deg;opacity:1;gap:6px;color:var(--primary-color);display:flex;justify-content:space-between}.auth-form-registration[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-top:6px;background-color:var(--dark-color);border:1px solid var(--dark-color-b);color:var(--primary-color)}.auth-form-registration[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--tertiary-color)}.auth-logo-group[_ngcontent-%COMP%]{width:361px;height:68px;text-align:center;opacity:1;top:134px;left:17px;gap:8px}.auth-logo-group[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--focus-color)}.auth-logo-group[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:8px;color:var(--primary-color)}.auth-show-password[_ngcontent-%COMP%]{width:20px;height:20px;angle:0 deg;opacity:1;background:none;border:none;cursor:pointer;position:relative;transform:translate(322px,-32px)}.auth-show-password[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:50%}.btn-auth-submit[_ngcontent-%COMP%]{color:var(--primary-color);background:var(--button-primary-color);border:1px solid var(--button-primary-color)}.error-auth-message[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-content:center;align-items:center;width:362px;height:44px;border-radius:4px;border-width:1px;angle:0 deg;opacity:1;gap:8px;padding:10px 12px 10px 16px;background:var(--bg-system-error-color);color:var(--text-error-color);border:1px solid var(--text-error-color)}.error-auth-m[_ngcontent-%COMP%]{display:inline;color:var(--text-error-color)}.auth-password-group[_ngcontent-%COMP%]{height:44px;margin-bottom:6px}.sing-up[_ngcontent-%COMP%]{color:var(--primary-color);text-align:center}.sing-up[_ngcontent-%COMP%]   .auth-link[_ngcontent-%COMP%]{color:var(--focus-color);text-decoration-line:none}"]})};export{U as a};
