import{e as L,f as M}from"./chunk-WHIQFPGR.js";import{h as D}from"./chunk-R63XIQ3C.js";import{a as P,b as g,c as E,d as N,e as O,f as v,h as T,j as k,k as F,s as q}from"./chunk-KBOLL6IX.js";import{g as I}from"./chunk-AWDAIWPN.js";import{Ca as x,Ha as d,Ka as S,Wa as o,Xa as r,Ya as s,Za as c,db as _,e as w,eb as h,gb as f,jb as m,kb as y,lb as b,rb as C,sa as i,ya as u}from"./chunk-XTGCJEIM.js";var R=()=>["/auth/registration"];function Z(t,l){t&1&&(r(0,"small"),m(1,"Email is required"),s())}function j(t,l){t&1&&(r(0,"small"),m(1,"Invalid email format"),s())}function A(t,l){if(t&1&&(r(0,"div"),d(1,Z,2,0,"small",10)(2,j,2,0,"small",10),s()),t&2){let n,e,a=h();f("color","red"),i(),o("ngIf",(n=a.form.get("email"))==null||n.errors==null?null:n.errors.required),i(),o("ngIf",(e=a.form.get("email"))==null||e.errors==null?null:e.errors.email)}}function V(t,l){t&1&&c(0,"img",11)}function H(t,l){t&1&&c(0,"img",12)}function U(t,l){t&1&&(r(0,"small"),m(1,"Password is required"),s())}function W(t,l){t&1&&(r(0,"small"),m(1,"Minimum 6 characters"),s())}function z(t,l){t&1&&(r(0,"small"),m(1," Password must contain at least 1 uppercase letter, 1 number, and 1 special character "),s())}function B(t,l){if(t&1&&(r(0,"div"),d(1,U,2,0,"small",10)(2,W,2,0,"small",10)(3,z,2,0,"small",10),s()),t&2){let n,e,a,p=h();f("color","red"),i(),o("ngIf",(n=p.form.get("password"))==null||n.errors==null?null:n.errors.required),i(),o("ngIf",(e=p.form.get("password"))==null||e.errors==null?null:e.errors.minlength),i(),o("ngIf",(a=p.form.get("password"))==null||a.errors==null?null:a.errors.pattern)}}var G=class t{constructor(l,n,e){this.fb=l;this.router=n;this.ngZone=e}loading=!1;errorMessage="";isShow=!1;user;form=new O({email:new v("",[g.required,g.email]),password:new v("",[g.required,g.minLength(6)])});setShow(){this.isShow=!this.isShow}onSubmit(){return w(this,null,function*(){if(this.form.invalid){this.form.markAllAsTouched();return}this.loading=!0,this.errorMessage="";let{email:l,password:n}=this.form.value;try{this.user=yield this.fb.signIn(l,n),this.ngZone.run(()=>{this.router.navigate(["app"])})}catch(e){console.error("\u274C Login error:",e),this.errorMessage=e.message||"Login failed. Please try again."}finally{this.loading=!1}})}static \u0275fac=function(n){return new(n||t)(u(D),u(L),u(S))};static \u0275cmp=x({type:t,selectors:[["app-login"]],decls:20,vars:13,consts:[[1,"auth-link",3,"routerLink"],[1,"app-login"],[3,"ngSubmit","formGroup"],["formControlName","email","type","email","placeholder","Write email"],[3,"color",4,"ngIf"],["formControlName","password","placeholder","Write password",3,"type"],["type","button",1,"auth-show-password",3,"click"],["src","assets/svg/unshow.svg","width","25","height","25","alt","Hide password icon",4,"ngIf"],["src","assets/svg/show.svg","width","25","height","25","alt","Show password icon",4,"ngIf"],["type","submit",1,"btn",3,"disabled"],[4,"ngIf"],["src","assets/svg/unshow.svg","width","25","height","25","alt","Hide password icon"],["src","assets/svg/show.svg","width","25","height","25","alt","Show password icon"]],template:function(n,e){if(n&1&&(r(0,"a",0),m(1,"Sign up"),s(),r(2,"div",1)(3,"form",2),_("ngSubmit",function(){return e.onSubmit()}),r(4,"label"),m(5," Email: "),c(6,"input",3),s(),d(7,A,3,4,"div",4),r(8,"label"),m(9," Password: "),c(10,"input",5),r(11,"button",6),_("click",function(){return e.setShow()}),d(12,V,1,0,"img",7)(13,H,1,0,"img",8),s()(),d(14,B,4,5,"div",4),c(15,"br"),r(16,"span"),m(17),s(),r(18,"button",9),m(19),s()()()),n&2){let a,p;o("routerLink",C(12,R)),i(3),o("formGroup",e.form),i(4),o("ngIf",((a=e.form.get("email"))==null?null:a.invalid)&&((a=e.form.get("email"))==null?null:a.touched)),i(3),o("type",e.isShow?"text":"password"),i(2),o("ngIf",e.isShow),i(),o("ngIf",!e.isShow),i(),o("ngIf",((p=e.form.get("password"))==null?null:p.invalid)&&((p=e.form.get("password"))==null?null:p.touched)),i(2),f("color","red"),i(),y(e.errorMessage),i(),o("disabled",e.loading),i(),b(" ",e.loading?"Loading...":"Enter"," ")}},dependencies:[q,T,P,E,N,k,F,I,M],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column}a[_ngcontent-%COMP%], span[_ngcontent-%COMP%]{color:var(--ligth-color)}input[_ngcontent-%COMP%]{margin-top:8px;color:var(--ligth-color);background:var(--dark-color);width:400px;height:44px;gap:10px;opacity:1;padding:12px 20px;border-radius:2px;border-width:1px}label[_ngcontent-%COMP%]{margin-top:16px;color:var(--ligth-color, white);width:400px}.error[_ngcontent-%COMP%]{color:red}.auth-show-password[_ngcontent-%COMP%]{background:none;color:#5f646d;border:none;position:absolute;transform:translate(-34px,17px);cursor:pointer}@media screen and (max-width: 640px){.app-login[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%}form[_ngcontent-%COMP%]{align-items:center}label[_ngcontent-%COMP%], input[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]{width:70vw}.auth-show-password[_ngcontent-%COMP%]{transform:translate(70vw,-35px)}}"]})};export{G as a};
