import{h as v}from"./chunk-R63XIQ3C.js";import{a as y,b as f,c as C,d as N,h as w,j as A,k as F,q as G,s as E}from"./chunk-KBOLL6IX.js";import{g as S}from"./chunk-AWDAIWPN.js";import{Ca as x,Ha as u,T as h,Wa as s,Xa as t,Ya as i,Za as p,db as _,jb as n,sa as m,ya as b}from"./chunk-XTGCJEIM.js";function M(r,l){r&1&&(t(0,"div",9),n(1," Company is required. "),i())}function I(r,l){r&1&&(t(0,"div",9),n(1," Address is required. "),i())}function P(r,l){r&1&&(t(0,"div",9),n(1," GPS must be in format: lat, lng "),i())}function T(r,l){r&1&&(t(0,"div",9),n(1," Must be a valid Google Maps link. "),i())}var k=class r{constructor(l,o){this.fb=l;this.firebaseService=o;this.form=this.fb.group({company:["",f.required],address:["",f.required],gps:["",[f.required,f.pattern(/^[-+]?\d{1,2}\.\d+,\s*[-+]?\d{1,3}\.\d+$/)]],notes:[""],link:[""]})}form;user=h(v).currentUser();onSubmit(){if(this.form.invalid){this.form.markAllAsTouched();return}if(this.firebaseService.currentUser()){let{company:l,address:o,gps:e,notes:a,link:d}=this.form.value;this.firebaseService.addAddress(l,o,d,e,a).then(c=>this.form.reset())}}static \u0275fac=function(o){return new(o||r)(b(G),b(v))};static \u0275cmp=x({type:r,selectors:[["app-add-new-clients"]],decls:23,vars:5,consts:[[1,"form-container"],[3,"ngSubmit","formGroup"],["formControlName","company","type","text","placeholder","Write company"],["class","error",4,"ngIf"],["formControlName","address","type","text","placeholder","Write address"],["formControlName","gps","type","text","placeholder","Write GPS for example: 22.222222, 22.222222"],["formControlName","notes","type","text","placeholder","Write notes"],["formControlName","link","type","text","placeholder","Write link for Google Maps"],["type","submit",1,"btn"],[1,"error"]],template:function(o,e){if(o&1&&(t(0,"div",0)(1,"form",1),_("ngSubmit",function(){return e.onSubmit()}),t(2,"label"),n(3," Company: "),p(4,"input",2),u(5,M,2,0,"div",3),i(),t(6,"label"),n(7," Address: "),p(8,"input",4),u(9,I,2,0,"div",3),i(),t(10,"label"),n(11," GPS: "),p(12,"input",5),u(13,P,2,0,"div",3),i(),t(14,"label"),n(15," Notes: "),p(16,"input",6),i(),t(17,"label"),n(18," Google link: "),p(19,"input",7),u(20,T,2,0,"div",3),i(),t(21,"button",8),n(22,"SAVE"),i()()()),o&2){let a,d,c,g;m(),s("formGroup",e.form),m(4),s("ngIf",((a=e.form.get("company"))==null?null:a.touched)&&((a=e.form.get("company"))==null?null:a.invalid)),m(4),s("ngIf",((d=e.form.get("address"))==null?null:d.touched)&&((d=e.form.get("address"))==null?null:d.invalid)),m(4),s("ngIf",((c=e.form.get("gps"))==null?null:c.touched)&&((c=e.form.get("gps"))==null?null:c.invalid)),m(7),s("ngIf",((g=e.form.get("link"))==null?null:g.touched)&&((g=e.form.get("link"))==null?null:g.invalid))}},dependencies:[E,w,y,C,N,A,F,S],styles:[".form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;height:max-content;background:#1c69af;justify-content:center;flex-wrap:wrap;align-content:center;border:2px solid white;border-radius:8px;padding:20px}input[_ngcontent-%COMP%]{width:90%;height:44px;gap:10px;opacity:1;padding:12px 20px;border-radius:4px;border-width:1px}label[_ngcontent-%COMP%]{margin:16px;color:var(--ligth-color, white);width:100%;font-size:22px}form[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]})};export{k as AddNewClients};
